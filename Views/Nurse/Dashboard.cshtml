@model IEnumerable<ONT_3rdyear_Project.ViewModels.PatientDashboardViewModel>
@{
    ViewData["Title"] = "Nurse Dashboard";
}

<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
<link href="~/css/site.css" rel="stylesheet" />

<div class="dashboard-container"> 
    <!-- Dashboard Header -->
    <div class="dashboard-header">
        <h1 class="dashboard-title">
            <i class="fas fa-user-nurse"></i>
            Nurse Dashboard
        </h1>
        <p class="mb-0 text-muted">Manage patient care and medical records</p>
    </div>

    <!-- Main Navigation Cards -->
    <div class="navigation-grid" id="mainNavigation">
        <a asp-controller="Nurse" asp-action="PatientsList" class="nav-card">
            <div class="nav-card-icon patients-icon">
                <i class="fas fa-users"></i>
            </div>
            <div class="nav-card-title">Patients</div>
            <div class="nav-card-description">View and manage all patient records in a comprehensive table format</div>
        </a>

        <a asp-controller="Nurse" asp-action="Vitals" class="nav-card">
            <div class="nav-card-icon vitals-icon">
                <i class="fas fa-heartbeat"></i>
            </div>
            <div class="nav-card-title">Vitals</div>
            <div class="nav-card-description">Monitor and record patient vital signs and health metrics</div>
        </a>

        <a asp-controller="Nurse" asp-action="Treatments" class="nav-card" >
            <div class="nav-card-icon treatment-icon">
                <i class="fas fa-stethoscope"></i>
            </div>
            <div class="nav-card-title">Treatments</div>
            <div class="nav-card-description">Manage and track patient treatment plans and procedures</div>
        </a>

        <a asp-controller="Nurse" asp-action="Administered" class="nav-card" >
            <div class="nav-card-icon medication-icon">
                <i class="fas fa-pills"></i>
            </div>
            <div class="nav-card-title">Medications</div>
            <div class="nav-card-description">Administer medications and track prescription schedules</div>
        </a>

        <a asp-controller="Nurse" asp-action="InstructionList" class="nav-card" >
            <div class="nav-card-icon instructions-icon">
                <i class="fas fa-clipboard-list"></i>
            </div>
            <div class="nav-card-title">Instructions</div>
            <div class="nav-card-description">View and manage patient care instructions and protocols</div>
        </a>
    </div>

    <!-- Statistics Section -->
    <div class="stats-section">
        <h3 class="mb-3"><i class="fas fa-chart-bar me-2"></i>Today's Overview</h3>
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-number">@Model.Count()</div>
                <div class="stat-label">Total Patients</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">24</div>
                <div class="stat-label">Hours on Duty</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">@Model.Count()</div>
                <div class="stat-label">Treatments Today</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">@Model.Count()</div>
                <div class="stat-label">Medications Given</div>
            </div>
        </div>
    </div>
</div> 

    
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>
<script>
    function showPatientsTable() {
        document.getElementById('mainNavigation').style.display = 'none';
        document.querySelector('.stats-section').style.display = 'none';
        document.getElementById('patientsTable').style.display = 'block';
    }

    function showMainNavigation() {
        document.getElementById('mainNavigation').style.display = 'grid';
        document.querySelector('.stats-section').style.display = 'block';
        document.getElementById('patientsTable').style.display = 'none';
    }

    

    // Add ripple effect to navigation cards
    document.querySelectorAll('.nav-card').forEach(card => {
        card.addEventListener('click', function(e) {
            const ripple = document.createElement('span');
            const rect = this.getBoundingClientRect();
            const size = Math.max(rect.width, rect.height);
            const x = e.clientX - rect.left - size / 2;
            const y = e.clientY - rect.top - size / 2;

            ripple.style.cssText = `
                position: absolute;
                width: ${size}px;
                height: ${size}px;
                left: ${x}px;
                top: ${y}px;
                background: rgba(255, 255, 255, 0.3);
                border-radius: 50%;
                transform: scale(0);
                animation: ripple 0.6s ease-out;
                pointer-events: none;
            `;

            this.appendChild(ripple);

            setTimeout(() => {
                ripple.remove();
            }, 600);
        });
    });

    // CSS animation for ripple effect
    const style = document.createElement('style');
    style.textContent = `
        @@keyframes ripple {
            to {
                transform: scale(2);
                opacity: 0;
            }
        }
        .nav-card {
            position: relative;
            overflow: hidden;
        }
    `;
    document.head.appendChild(style);
</script>